<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>OpenLayers Tutorials: Display a map</title>

  <style>
    html,
    body,
    #map {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
      font-family: Arial, Helvetica, sans-serif;
      font-size: 14px;
      color: #323232;
    }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v10.5.0/ol.css" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/ol@v10.5.0/dist/ol.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/ol-mapbox-style@12.5.0/dist/olms.js"></script>
</head>

<body>
    <div id="map"></div>

    <script>

        /* Use for API key authentication */
        const accessToken = "AAPTxy8BH1VEsoebNVZXo8HurE4hoUU-OMpVSwatWNPhCSMDYY9It0Ciflm6zB-XquFJkC2dygVTZ3wjlilrvLayXQ2Fhwwo2hB3kF7j5BL1QxqA9iN0xnNyXc0RWKt_M94-TnYqMjvuAS-ayBwcKSu0Tn-d2vswLpV4B2tJ-OHzktJm2dmT9nM4kfva2q0QjUtI5opHQ5Tre-lTQQ4tOl0DIyNSyQFaKKX7WDdEmXxfQlg.AT1_psXfeIOC";
    
        const map = new ol.Map({ target: "map" });
        map.setView(
      new ol.View({
        center: ol.proj.fromLonLat([-118.805, 34.027]),
        zoom: 12
      })
    );
    const basemapId = "arcgis/outdoor";
    const basemapURL = `https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/styles/${basemapId}?token=${accessToken}`;
    olms.apply(map, basemapURL)
    .then(() => {
        // Add Esri attribution
        // Learn more in https://esriurl.com/attribution
        const source = map.getLayers().item(0).getSource();
        const poweredByEsriString = "Powered by <a href='https://www.esri.com/en-us/home' target='_blank'>Esri</a> | ";

        const attributionFn = source.getAttributions();
        if (attributionFn) {
          source.setAttributions((ViewStateLayerStateExtent) => {
            return [poweredByEsriString, ...attributionFn(ViewStateLayerStateExtent)];
          });
        }
        else source.setAttributions(poweredByEsriString);
});
 
 </script>


</body>

</html>
